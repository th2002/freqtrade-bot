import{o as l,c as k,a as d,g as S,u as H,r as L,k as M,N as J,b as s,w as i,h as t,e as B,q as x,F as I,L as O,x as h,z as p,Z as le,v as D,O as $e,Y as ie,_ as W,P as X,X as K,p as Z,d as Q,m as w,l as ae,Q as we,R as ee,t as G,S as Re,G as Y,y as z,A as Ve,U as Te,n as se,V as Ce,i as re,W as Se,$ as ce,a0 as de,a1 as Ae,a2 as qe,a3 as ne,M as me,a4 as j,a5 as Le,a6 as Me,a7 as Ie,a8 as Pe,j as ue,a9 as Ue,aa as Fe,ab as ze,ac as De,ad as He,ae as Ne,af as Ee,ag as je,ah as Oe}from"./index-DlUcbSds.js";import{c as _e}from"./TradeList-Dl9robre.js";import{_ as Ge}from"./chevron-down-BUOWhSiJ.js";import{_ as We,a as Ke,b as Ze,c as fe}from"./InfoBox.vue_vue_type_script_setup_true_lang-D0p1AO7G.js";import{_ as Qe}from"./CandleChartContainer-D-o4GMGR.js";import{a as Ye,_ as Je}from"./MessageBox.vue_vue_type_script_setup_true_lang-wRB1Pw6g.js";import{_ as Xe,a as et,b as tt}from"./TradesLogChart-SYGTgJDu.js";import{_ as at,a as st,b as ot}from"./StrategySelect.vue_vue_type_script_setup_true_lang-Du76N-p3.js";import"./EditValue.vue_vue_type_script_setup_true_lang-4xmlAQGq.js";import"./plus-box-outline-ddJQ4f0v.js";import"./installCanvasRenderer-BCi_cPJ5.js";import"./chartZoom-71GenF7r.js";import"./createSeriesDataSimply-BvNxfXAu.js";const nt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},lt=d("path",{fill:"currentColor",d:"M8.59 16.58L13.17 12L8.59 7.41L10 6l6 6l-6 6z"},null,-1),it=[lt];function rt(e,a){return l(),k("svg",nt,[...it])}const oe={name:"mdi-chevron-right",render:rt},ct={class:"d-flex"},dt={class:"d-flex flex-column"},mt={key:0},ut={class:"px-3 m-0"},_t=S({__name:"TradeListNav",props:{trades:{required:!0,type:Array},backtestMode:{required:!1,default:!1,type:Boolean}},emits:["trade-select"],setup(e,{emit:a}){const o=e,_=a,m=H(),n=L({}),r=L(!0),c=y=>{n.value=y,_("trade-select",y)},u=M(()=>o.trades.slice().sort((y,b)=>r.value?b.open_timestamp-y.open_timestamp:y.open_timestamp-b.open_timestamp)),g=L(u.value.map(()=>!1));return J(()=>m.activeBot.selectedPair,()=>{g.value=u.value.map(()=>!1)}),(y,b)=>{const R=le,V=We,T=Ke,$=Ze,f=oe,q=Ge,N=D,E=$e,v=ie;return l(),k("div",null,[s(v,null,{default:i(()=>[s(R,{button:"",class:"d-flex flex-wrap justify-content-center align-items-center",title:"Trade Navigation",onClick:b[0]||(b[0]=C=>r.value=!t(r))},{default:i(()=>[B("Trade Navigation "+x(t(r)?"↓":"↑"),1)]),_:1}),(l(!0),k(I,null,O(t(u),(C,P)=>(l(),h(R,{key:C.open_timestamp,button:"",class:"d-flex flex-column py-1 pe-1 align-items-stretch",title:`${C.pair}`,active:C.open_timestamp===t(n).open_timestamp,onClick:U=>c(C)},{default:i(()=>[d("div",ct,[d("div",dt,[d("div",null,[t(m).activeBot.botState.trading_mode!=="spot"?(l(),k("span",mt,x(C.is_short?"S-":"L-"),1)):p("",!0),s(V,{date:C.open_timestamp},null,8,["date"])]),s(T,{trade:C,class:"my-1"},null,8,["trade"]),e.backtestMode?(l(),h($,{key:0,"profit-ratio":C.profit_ratio,"stake-currency":t(m).activeBot.stakeCurrency},null,8,["profit-ratio","stake-currency"])):p("",!0)]),s(N,{size:"sm",class:"ms-auto mt-auto",variant:"outline-secondary",onClick:U=>t(g)[P]=!t(g)[P]},{default:i(()=>[t(g)[P]?p("",!0):(l(),h(f,{key:0,width:"24",height:"24"})),t(g)[P]?(l(),h(q,{key:1,width:"24",height:"24"})):p("",!0)]),_:2},1032,["onClick"])]),s(E,{modelValue:t(g)[P],"onUpdate:modelValue":U=>t(g)[P]=U},{default:i(()=>{var U;return[d("ul",ut,[(l(!0),k(I,null,O((U=C.orders)==null?void 0:U.filter(F=>F.order_filled_timestamp!==null),F=>(l(),k("li",{key:F.order_timestamp},x(F.ft_order_side)+" "+x(F.amount)+" at "+x(F.safe_price),1))),128))])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["title","active","onClick"]))),128)),e.trades.length===0?(l(),h(R,{key:0},{default:i(()=>[B("No trades to show...")]),_:1})):p("",!0)]),_:1})])}}}),ft=W(_t,[["__scopeId","data-v-baa5fb3a"]]),pt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},kt=d("path",{fill:"currentColor",d:"M15.41 16.58L10.83 12l4.58-4.59L14 6l-6 6l6 6z"},null,-1),bt=[kt];function gt(e,a){return l(),k("svg",pt,[...bt])}const pe={name:"mdi-chevron-left",render:gt},ht=e=>(Z("data-v-cc855719"),e=e(),Q(),e),yt={class:"d-flex flex-row mb-1 align-items-center"},vt={class:"me-2"},Bt={class:"flex-fill"},xt=ht(()=>d("br",null,null,-1)),$t={class:"col-md-1 text-end"},wt={class:"text-center d-flex flex-row h-100 align-items-stretch"},Rt=S({__name:"BacktestResultChart",props:{timeframe:{required:!0,type:String},strategy:{required:!0,type:String},freqaiModel:{required:!1,default:void 0,type:String},timerange:{required:!0,type:String},pairlist:{required:!0,type:Array},trades:{required:!0,type:Array}},setup(e){const a=H(),o=L({right:!0,left:!0}),_=L(),m=n=>{_.value={startValue:n.open_timestamp,endValue:n.close_timestamp}};return(n,r)=>{const c=oe,u=pe,g=D,y=Ye,b=Qe,R=ft,V=_e,T=K;return l(),k("div",null,[d("div",yt,[d("div",vt,[s(g,{"aria-label":"Close",title:"Pair Navigation",variant:"outline-secondary",size:"sm",onClick:r[0]||(r[0]=$=>t(o).left=!t(o).left)},{default:i(()=>[t(o).left?p("",!0):(l(),h(c,{key:0,width:"24",height:"24"})),t(o).left?(l(),h(u,{key:1,width:"24",height:"24"})):p("",!0)]),_:1})]),d("span",Bt,[B(" Graph will always show the latest values for the selected strategy. "),xt,B(" Timerange: "+x(e.timerange)+" - "+x(e.strategy),1)]),d("div",$t,[s(g,{"aria-label":"Close",variant:"outline-secondary",title:"Trade Navigation",size:"sm",onClick:r[1]||(r[1]=$=>t(o).right=!t(o).right)},{default:i(()=>[t(o).right?(l(),h(c,{key:0,width:"24",height:"24"})):p("",!0),t(o).right?p("",!0):(l(),h(u,{key:1,width:"24",height:"24"}))]),_:1})])]),d("div",wt,[s(X,{name:"fadeleft"},{default:i(()=>[t(o).left?(l(),h(y,{key:0,class:"col-md-2 overflow-y-auto overflow-x-hidden",style:{"max-height":"calc(100vh - 200px)"},pairlist:e.pairlist,trades:e.trades,"sort-method":"profit","backtest-mode":!0},null,8,["pairlist","trades"])):p("",!0)]),_:1}),s(b,{"available-pairs":e.pairlist,"historic-view":!0,timeframe:e.timeframe,timerange:e.timerange,strategy:e.strategy,trades:e.trades,class:"flex-shrink-1 candle-chart-container w-100 px-0 h-100 align-self-stretch","slider-position":t(_),"freqai-model":e.freqaiModel},null,8,["available-pairs","timeframe","timerange","strategy","trades","slider-position","freqai-model"]),s(X,{name:"fade"},{default:i(()=>[t(o).right?(l(),h(R,{key:0,class:"overflow-y-auto col-md-2 overflow-x-visible",style:{"max-height":"calc(100vh - 200px)"},trades:e.trades.filter($=>$.pair===t(a).activeBot.selectedPair),onTradeSelect:m},null,8,["trades"])):p("",!0)]),_:1})]),s(T,{header:"Single trades",class:"row mt-2 w-100"},{default:i(()=>[s(V,{class:"row trade-history mt-2 w-100",trades:e.trades,"show-filter":!0},null,8,["trades"])]),_:1})])}}}),Vt=W(Rt,[["__scopeId","data-v-cc855719"]]),Tt=e=>(Z("data-v-bb4fb14c"),e=e(),Q(),e),Ct={class:"text-center flex-fill mt-2 d-flex flex-column"},St=Tt(()=>d("hr",null,null,-1)),At=S({__name:"BacktestGraphs",props:{trades:{required:!0,type:Array}},setup(e){return(a,o)=>{const _=Xe,m=et,n=tt;return l(),k("div",Ct,[s(_,{trades:e.trades,class:"trades-log"},null,8,["trades"]),s(m,{trades:e.trades,class:"cum-profit","show-title":!0},null,8,["trades"]),St,s(n,{class:"mt-3",trades:e.trades,"show-title":!0},null,8,["trades"])])}}}),qt=W(At,[["__scopeId","data-v-bb4fb14c"]]),Lt={class:"d-flex flex-column me-2 text-start"},Mt={class:"fw-bold"},It={class:"text-small"},Pt={key:0,class:"text-small",style:{"white-space":"pre-wrap"}},ke=S({__name:"BacktestResultSelectEntry",props:{backtestResult:{required:!0,type:Object},selectedBacktestResultKey:{required:!1,default:"",type:String},canUseModify:{required:!1,default:!1,type:Boolean}},setup(e){return(a,o)=>(l(),k("div",Lt,[d("div",Mt,x(e.backtestResult.metadata.strategyName)+" - "+x(e.backtestResult.strategy.timeframe),1),d("div",It," TradeCount: "+x(e.backtestResult.strategy.total_trades)+" - Profit: "+x(("formatPercent"in a?a.formatPercent:t(w))(e.backtestResult.strategy.profit_total)),1),e.canUseModify?(l(),k("div",Pt,x(e.backtestResult.metadata.notes),1)):p("",!0)]))}});function Ut(e){return e.slice().sort((o,_)=>o.profit_ratio-_.profit_ratio)}function Ft(e){if(e.length===0)return"N/A";const a=e[e.length-1];return`${a.pair} ${w(a.profit_ratio,2)}`}function zt(e){if(e.length===0)return"N/A";const a=e[0];return`${a.pair} ${w(a.profit_ratio,2)}`}function be(e,a){return _=>`${ae(_,e)} ${a}`}function ge(e){const a=Ut(e.trades),o=Ft(a),_=zt(a),m=e.results_per_pair[e.results_per_pair.length-1],n=be(e.stake_currency_decimals,e.stake_currency),r=e.trade_count_short&&e.trade_count_short>0?[{"___ ":"___"},{"Long / Short":`${e.trade_count_long} / ${e.trade_count_short}`},{"Total profit Long":`${w(e.profit_total_long||0)} | ${n(e.profit_total_long_abs)}`},{"Total profit Short":`${w(e.profit_total_short||0)} | ${n(e.profit_total_short_abs)}`}]:[];return[{"Total Profit":`${w(e.profit_total)} | ${n(e.profit_total_abs)}`},{CAGR:`${e.cagr?w(e.cagr):"N/A"}`},{Sortino:`${e.sortino?e.sortino.toFixed(2):"N/A"}`},{Sharpe:`${e.sharpe?e.sharpe.toFixed(2):"N/A"}`},{Calmar:`${e.calmar?e.calmar.toFixed(2):"N/A"}`},{[`Expectancy ${e.expectancy_ratio?"(ratio)":""}`]:`${e.expectancy?e.expectancy_ratio?e.expectancy.toFixed(2)+" ("+e.expectancy_ratio.toFixed(2)+")":e.expectancy.toFixed(2):"N/A"}`},{"Profit factor":`${e.profit_factor?ae(e.profit_factor,3):"N/A"}`},{"Total trades / Daily Avg Trades":`${e.total_trades} / ${e.trades_per_day}`},{"Best day":`${w(e.backtest_best_day,2)} | ${n(e.backtest_best_day_abs)}`},{"Worst day":`${w(e.backtest_worst_day,2)} | ${n(e.backtest_worst_day_abs)}`},{"Win/Draw/Loss":`${m.wins} / ${m.draws} / ${m.losses} ${we(m.winrate)?"(WR: "+w(e.results_per_pair[e.results_per_pair.length-1].winrate??0,2)+")":""}`},{"Days win/draw/loss":`${e.winning_days} / ${e.draw_days} / ${e.losing_days}`},{"Avg. Duration winners":ee(e.winner_holding_avg_s)},{"Avg. Duration Losers":ee(e.loser_holding_avg_s)},{"Max Consecutive Wins / Loss":e.max_consecutive_wins===void 0?"N/A":`${e.max_consecutive_wins} / ${e.max_consecutive_losses}`},{"Rejected entry signals":e.rejected_signals},{"Entry/Exit timeouts":`${e.timedout_entry_orders} / ${e.timedout_exit_orders}`},{"Canceled Trade Entries":e.canceled_trade_entries??"N/A"},{"Canceled Entry Orders":e.canceled_entry_orders??"N/A"},{"Replaced Entry Orders":e.replaced_entry_orders??"N/A"},...r,{___:"___"},{"Min balance":n(e.csum_min)},{"Max balance":n(e.csum_max)},{"Market change":w(e.market_change)},{"___  ":"___"},{"Max Drawdown (Account)":w(e.max_drawdown_account)},{"Max Drawdown ABS":n(e.max_drawdown_abs)},{"Drawdown high | low":`${n(e.max_drawdown_high)} | ${n(e.max_drawdown_low)}`},{"Drawdown start":G(e.drawdown_start_ts)},{"Drawdown end":G(e.drawdown_end_ts)},{"___   ":"___"},{"Best Pair":`${e.best_pair.key} ${w(e.best_pair.profit_total)}`},{"Worst Pair":`${e.worst_pair.key} ${w(e.worst_pair.profit_total)}`},{"Best single Trade":o},{"Worst single Trade":_}]}function Dt(e){const a=be(e.stake_currency_decimals,e.stake_currency);return[{"Backtesting from":G(e.backtest_start_ts)},{"Backtesting to":G(e.backtest_end_ts)},{"BT execution time":ee(e.backtest_run_end_ts-e.backtest_run_start_ts)},{"Max open trades":e.max_open_trades},{Timeframe:e.timeframe},{"Timeframe Detail":e.timeframe_detail||"N/A"},{Timerange:e.timerange},{Stoploss:w(e.stoploss,2)},{"Trailing Stoploss":e.trailing_stop},{"Trail only when offset is reached":e.trailing_only_offset_is_reached},{"Trailing Stop positive":e.trailing_stop_positive},{"Trailing stop positive offset":e.trailing_stop_positive_offset},{"Custom Stoploss":e.use_custom_stoploss},{ROI:JSON.stringify(e.minimal_roi)},{"Use Exit Signal":e.use_exit_signal!==void 0?e.use_exit_signal:e.use_sell_signal},{"Exit profit only":e.exit_profit_only!==void 0?e.exit_profit_only:e.sell_profit_only},{"Exit profit offset":e.exit_profit_offset!==void 0?e.exit_profit_offset:e.sell_profit_offset},{"Enable protections":e.enable_protections},{"Starting balance":a(e.starting_balance)},{"Final balance":a(e.final_balance)},{"Avg. stake amount":a(e.avg_stake_amount)},{"Total trade volume":a(e.total_volume)}]}function te(e,a){return Object.entries(e).reduce((_,[m,n])=>(n.forEach(r=>{const[c,u]=Object.entries(r)[0],g=_.find(y=>y[a]===c);g?g[m]=u:_.push({[a]:c,[m]:u})}),_),[])}const Ht={class:"px-0 mw-100"},Nt=d("div",{class:"d-flex justify-content-center"},[d("h3",null,"Backtest-result comparison")],-1),Et={class:"d-flex flex-column text-start ms-0 me-2 gap-2"},jt={class:"d-flex flex-column flex-xl-row"},Ot={class:"px-0 px-xl-0 pt-2 pt-xl-0 ps-xl-1 flex-fill"},Gt=S({__name:"BacktestResultComparison",props:{backtestResults:{required:!0,type:Object}},setup(e){const a=e,o=M(()=>{const m={};return Object.entries(a.backtestResults).forEach(([n,r])=>{const c=ge(r.strategy);m[n]=c}),console.log(m),te(m,"metric")}),_=M(()=>{const m=[{key:"metric",label:"Metric"}];return Object.entries(a.backtestResults).forEach(([n,r])=>{m.push({key:n,label:r.metadata.strategyName})}),m});return(m,n)=>{const r=ke,c=Y;return l(),k("div",Ht,[Nt,d("div",Et,[d("div",jt,[d("div",Ot,[s(c,{bordered:"",items:t(o),fields:t(_)},Re({_:2},[O(Object.entries(e.backtestResults),([u,g])=>({name:`head(${u})`,fn:i(()=>[s(r,{"backtest-result":g},null,8,["backtest-result"])])}))]),1032,["items","fields"])])])])])}}}),Wt=S({__name:"BacktestResultPeriodBreakdown",props:{periodicBreakdown:{type:Object,required:!0}},setup(e){const a=[{value:"day",text:"Days"},{value:"week",text:"Weeks"},{value:"month",text:"Months"}],o=L("month"),_=M(()=>[{key:"date",label:"Date"},{key:"wins",label:"Wins"},{key:"draws",label:"Draws"},{key:"loses",label:"Losses"}]);return(m,n)=>{const r=Ve,c=Y;return l(),k(I,null,[s(r,{id:"order-direction",modelValue:t(o),"onUpdate:modelValue":n[0]||(n[0]=u=>z(o)?o.value=u:null),options:a,name:"radios-btn-default",size:"sm",buttons:"",style:{"min-width":"10em"},"button-variant":"outline-primary"},null,8,["modelValue"]),s(c,{small:"",hover:"",stacked:"sm",items:e.periodicBreakdown[t(o)],fields:t(_)},null,8,["items","fields"])],64)}}}),Kt=S({__name:"BacktestResultTablePer",props:{title:{type:String,required:!0},results:{type:Array,required:!0},stakeCurrency:{type:String,required:!0},stakeCurrencyDecimals:{type:Number,required:!0},keyHeader:{type:String,default:""},keyHeaders:{type:Array,default:()=>[]}},setup(e){const a=e,o=M(()=>a.results),_=M(()=>{const m=[];if(a.keyHeaders.length>0)for(let n=0;n<a.keyHeaders.length;n+=1)m.push({key:"key",label:a.keyHeaders[n],formatter:(r,c,u)=>Array.isArray(r)?r[n]:r||u.exit_reason||"OTHER"});else m.push({key:"key",label:a.keyHeader,formatter:(n,r,c)=>n||c.exit_reason||"OTHER"});return[...m,{key:"trades",label:"Trades"},{key:"profit_mean",label:"Avg Profit %",formatter:n=>w(n,2)},{key:"profit_total_abs",label:`Tot Profit ${a.stakeCurrency}`,formatter:n=>ae(n,a.stakeCurrencyDecimals)},{key:"profit_total",label:"Tot Profit %",formatter:n=>w(n,2)},{key:"wins",label:"Wins"},{key:"draws",label:"Draws"},{key:"losses",label:"Losses"}]});return(m,n)=>{const r=Y,c=K;return l(),h(c,{header:e.title},{default:i(()=>[s(r,{small:"",hover:"",stacked:"sm",items:t(o),fields:t(_)},null,8,["items","fields"])]),_:1},8,["header"])}}}),Zt={class:"px-0 mw-100"},Qt={class:"d-flex justify-content-center"},Yt={class:"d-flex flex-column text-start ms-0 me-2 gap-2"},Jt={class:"d-flex flex-column flex-xl-row"},Xt={class:"px-0 px-xl-0 pe-xl-1 flex-fill"},ea={class:"px-0 px-xl-0 pt-2 pt-xl-0 ps-xl-1 flex-fill"},ta=S({__name:"BacktestResultAnalysis",props:{backtestResult:{required:!0,type:Object}},setup(e){const a=e,o=M(()=>{const r=ge(a.backtestResult);return te({value:r},"metric")}),_=M(()=>{const r=Dt(a.backtestResult);return te({value:r},"setting")}),m=[{key:"metric",label:"Metric"},{key:"value",label:"Value"}],n=[{key:"setting",label:"Setting"},{key:"value",label:"Value"}];return(r,c)=>{const u=Y,g=K,y=Kt,b=Wt,R=_e;return l(),k("div",Zt,[d("div",Qt,[d("h3",null,"Backtest-result for "+x(e.backtestResult.strategy_name),1)]),d("div",Yt,[d("div",Jt,[d("div",Xt,[s(g,{header:"Strategy settings"},{default:i(()=>[s(u,{small:"",borderless:"",items:t(_),fields:n},null,8,["items"])]),_:1})]),d("div",ea,[s(g,{header:"Metrics"},{default:i(()=>[s(u,{small:"",borderless:"",items:t(o),fields:m},null,8,["items"])]),_:1})])]),s(y,{title:"Results per Enter tag",results:e.backtestResult.results_per_enter_tag,"stake-currency":e.backtestResult.stake_currency,"key-header":"Enter Tag","stake-currency-decimals":e.backtestResult.stake_currency_decimals},null,8,["results","stake-currency","stake-currency-decimals"]),s(y,{title:"Results per Exit reason",results:e.backtestResult.exit_reason_summary??[],"stake-currency":e.backtestResult.stake_currency,"key-header":"Exit Reason","stake-currency-decimals":e.backtestResult.stake_currency_decimals},null,8,["results","stake-currency","stake-currency-decimals"]),e.backtestResult.mix_tag_stats?(l(),h(y,{key:0,title:"Results Mixed Tag",results:e.backtestResult.mix_tag_stats??[],"stake-currency":e.backtestResult.stake_currency,"key-headers":["Enter Tag","Exit Tag"],"stake-currency-decimals":e.backtestResult.stake_currency_decimals},null,8,["results","stake-currency","stake-currency-decimals"])):p("",!0),s(y,{title:"Results per pair",results:e.backtestResult.results_per_pair,"stake-currency":e.backtestResult.stake_currency,"key-header":"Pair","stake-currency-decimals":e.backtestResult.stake_currency_decimals},null,8,["results","stake-currency","stake-currency-decimals"]),e.backtestResult.periodic_breakdown?(l(),h(g,{key:1,header:"Periodic breakdown"},{default:i(()=>[s(b,{"periodic-breakdown":e.backtestResult.periodic_breakdown},null,8,["periodic-breakdown"])]),_:1})):p("",!0),s(g,{header:"Single trades"},{default:i(()=>[s(R,{trades:e.backtestResult.trades,"show-filter":!0,"stake-currency":e.backtestResult.stake_currency},null,8,["trades","stake-currency"])]),_:1})])])}}}),aa={class:"w-100 d-flex"},sa={class:"ms-2"},oa=S({__name:"FreqaiModelSelect",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const a=Te(e,"modelValue"),o=H();return se(()=>{o.activeBot.freqaiModelList.length===0&&o.activeBot.getFreqAIModelList()}),(_,m)=>{const n=Ce,r=re,c=D;return l(),k("div",null,[d("div",aa,[s(n,{id:"freqaiModel-select",modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=u=>a.value=u),options:t(o).activeBot.freqaiModelList},null,8,["modelValue","options"]),d("div",sa,[s(c,{onClick:t(o).activeBot.getFreqAIModelList},{default:i(()=>[s(r)]),_:1},8,["onClick"])])])])}}}),he=Se("btStore",{state:()=>({strategy:"",selectedTimeframe:"",selectedDetailTimeframe:"",timerange:"",maxOpenTrades:"",stakeAmount:"",startingCapital:"",allowCache:!0,enableProtections:!1,stakeAmountUnlimited:!1,freqAI:{enabled:!1,model:"",identifier:""}}),getters:{canRunBacktest:e=>e.strategy!==""},actions:{}}),na={class:"mb-2"},la=d("span",null,"Strategy",-1),ia={class:"d-flex align-items-center"},ra={style:{"flex-basis":"100%"},class:"d-flex"},ca={class:"d-flex justify-content-center"},da=d("span",{class:"me-2"},"Enable FreqAI:",-1),ma=d("hr",null,null,-1),ua=d("h3",{class:"mt-3"},"Backtesting summary",-1),_a={class:"d-flex flex-wrap flex-md-nowrap justify-content-between justify-content-md-center"},fa=S({__name:"BacktestRun",setup(e){const a=H(),o=he();function _(){const m={strategy:o.strategy,timerange:o.timerange,enable_protections:o.enableProtections},n=parseInt(o.maxOpenTrades,10);if(n&&(m.max_open_trades=n),o.stakeAmountUnlimited)m.stake_amount="unlimited";else{const c=Number(o.stakeAmount);c&&(m.stake_amount=c.toString())}const r=Number(o.startingCapital);r&&(m.dry_run_wallet=r),o.selectedTimeframe&&(m.timeframe=o.selectedTimeframe),o.selectedDetailTimeframe&&(m.timeframe_detail=o.selectedDetailTimeframe),o.allowCache||(m.backtest_cache="none"),o.freqAI.enabled&&(m.freqaimodel=o.freqAI.model,o.freqAI.identifier!==""&&(m.freqai={identifier:o.freqAI.identifier})),a.activeBot.startBacktest(m)}return(m,n)=>{const r=at,c=st,u=ce,g=de,y=Ae,b=fe,R=oa,V=ot,T=K,$=D;return l(),k(I,null,[d("div",na,[la,s(r,{modelValue:t(o).strategy,"onUpdate:modelValue":n[0]||(n[0]=f=>t(o).strategy=f)},null,8,["modelValue"])]),s(T,{disabled:t(a).activeBot.backtestRunning},{default:i(()=>[s(u,{"label-cols-lg":"2",label:"Backtest params","label-size":"sm","label-class":"fw-bold pt-0",class:"mb-0"},{default:i(()=>[s(u,{"label-cols-sm":"5",label:"Timeframe:","label-align-sm":"right","label-for":"timeframe-select"},{default:i(()=>[s(c,{id:"timeframe-select",modelValue:t(o).selectedTimeframe,"onUpdate:modelValue":n[1]||(n[1]=f=>t(o).selectedTimeframe=f)},null,8,["modelValue"])]),_:1}),s(u,{"label-cols-sm":"5",label:"Detail Timeframe:","label-align-sm":"right","label-for":"timeframe-detail-select",title:"Detail timeframe, to simulate intra-candle results. Not setting this will not use this functionality."},{default:i(()=>[s(c,{id:"timeframe-detail-select",modelValue:t(o).selectedDetailTimeframe,"onUpdate:modelValue":n[2]||(n[2]=f=>t(o).selectedDetailTimeframe=f),"below-timeframe":t(o).selectedTimeframe},null,8,["modelValue","below-timeframe"])]),_:1}),s(u,{"label-cols-sm":"5",label:"Max open trades:","label-align-sm":"right","label-for":"max-open-trades"},{default:i(()=>[s(g,{id:"max-open-trades",modelValue:t(o).maxOpenTrades,"onUpdate:modelValue":n[3]||(n[3]=f=>t(o).maxOpenTrades=f),placeholder:"Use strategy default",type:"number"},null,8,["modelValue"])]),_:1}),s(u,{"label-cols-sm":"5",label:"Starting capital:","label-align-sm":"right","label-for":"starting-capital"},{default:i(()=>[s(g,{id:"starting-capital",modelValue:t(o).startingCapital,"onUpdate:modelValue":n[4]||(n[4]=f=>t(o).startingCapital=f),placeholder:"Use config default",type:"number",step:"0.001"},null,8,["modelValue"])]),_:1}),s(u,{"label-cols-sm":"5",label:"Stake amount:","label-align-sm":"right","label-for":"stake-amount"},{default:i(()=>[d("div",ia,[d("div",ra,[s(y,{id:"stake-amount-bool",modelValue:t(o).stakeAmountUnlimited,"onUpdate:modelValue":n[5]||(n[5]=f=>t(o).stakeAmountUnlimited=f)},{default:i(()=>[B("Unlimited stake")]),_:1},8,["modelValue"])]),s(g,{id:"stake-amount",modelValue:t(o).stakeAmount,"onUpdate:modelValue":n[6]||(n[6]=f=>t(o).stakeAmount=f),type:"number",placeholder:"Use strategy default",step:"0.01",style:{"flex-basis":"100%"},disabled:t(o).stakeAmountUnlimited},null,8,["modelValue","disabled"])])]),_:1}),s(u,{"label-cols-sm":"5",label:"Enable Protections:","label-align-sm":"right","label-for":"enable-protections",class:"align-items-center"},{default:i(()=>[s(y,{id:"enable-protections",modelValue:t(o).enableProtections,"onUpdate:modelValue":n[7]||(n[7]=f=>t(o).enableProtections=f)},null,8,["modelValue"])]),_:1}),t(a).activeBot.botApiVersion>=2.22?(l(),h(u,{key:0,"label-cols-sm":"5",label:"Cache Backtest results:","label-align-sm":"right","label-for":"enable-cache",class:"align-items-center"},{default:i(()=>[s(y,{id:"enable-cache",modelValue:t(o).allowCache,"onUpdate:modelValue":n[8]||(n[8]=f=>t(o).allowCache=f)},null,8,["modelValue"])]),_:1})):p("",!0),t(a).activeBot.botApiVersion>=2.22?(l(),k(I,{key:1},[s(u,{"label-cols-sm":"5",label:"Enable FreqAI:","label-align-sm":"right","label-for":"enable-freqai",class:"align-items-center"},{label:i(()=>[d("div",ca,[da,s(b,{hint:"Assumes freqAI configuration is setup in the configuration, and the strategy is a freqAI strategy. Will fail if that's not the case."})])]),default:i(()=>[s(y,{id:"enable-freqai",modelValue:t(o).freqAI.enabled,"onUpdate:modelValue":n[9]||(n[9]=f=>t(o).freqAI.enabled=f)},null,8,["modelValue"])]),_:1}),t(o).freqAI.enabled?(l(),h(u,{key:0,"label-cols-sm":"5",label:"FreqAI identifier:","label-align-sm":"right","label-for":"freqai-identifier"},{default:i(()=>[s(g,{id:"freqai-identifier",modelValue:t(o).freqAI.identifier,"onUpdate:modelValue":n[10]||(n[10]=f=>t(o).freqAI.identifier=f),placeholder:"Use config default"},null,8,["modelValue"])]),_:1})):p("",!0),t(o).freqAI.enabled?(l(),h(u,{key:1,"label-cols-sm":"5",label:"FreqAI Model","label-align-sm":"right","label-for":"freqai-model"},{default:i(()=>[s(R,{id:"freqai-model",modelValue:t(o).freqAI.model,"onUpdate:modelValue":n[11]||(n[11]=f=>t(o).freqAI.model=f)},null,8,["modelValue"])]),_:1})):p("",!0)],64)):p("",!0),ma,s(V,{modelValue:t(o).timerange,"onUpdate:modelValue":n[12]||(n[12]=f=>t(o).timerange=f),class:"mt-2"},null,8,["modelValue"])]),_:1})]),_:1},8,["disabled"]),ua,d("div",_a,[s($,{id:"start-backtest",variant:"primary",disabled:!t(o).canRunBacktest||t(a).activeBot.backtestRunning||!t(a).activeBot.canRunBacktest,class:"mx-1",onClick:_},{default:i(()=>[B(" Start backtest ")]),_:1},8,["disabled"]),s($,{variant:"secondary",disabled:t(a).activeBot.backtestRunning||!t(a).activeBot.canRunBacktest,class:"mx-1",onClick:t(a).activeBot.pollBacktest},{default:i(()=>[B(" Load backtest result ")]),_:1},8,["disabled","onClick"]),s($,{variant:"secondary",class:"mx-1",disabled:!t(a).activeBot.backtestRunning,onClick:t(a).activeBot.stopBacktest},{default:i(()=>[B("Stop Backtest")]),_:1},8,["disabled","onClick"]),s($,{variant:"secondary",class:"mx-1",disabled:t(a).activeBot.backtestRunning||!t(a).activeBot.canRunBacktest,onClick:t(a).activeBot.removeBacktest},{default:i(()=>[B("Reset Backtest")]),_:1},8,["disabled","onClick"])])],64)}}}),pa={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ka=d("path",{fill:"currentColor",d:"M4 11v2h12l-5.5 5.5l1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5L16 11z"},null,-1),ba=[ka];function ga(e,a){return l(),k("svg",pa,[...ba])}const ha={name:"mdi-arrow-right",render:ga},ya=e=>(Z("data-v-29900fac"),e=e(),Q(),e),va=ya(()=>d("p",null," Load Historic results from disk. You can click on multiple results to load all of them into freqUI. ",-1)),Ba={class:"d-flex align-items-center"},xa={key:0,class:"ms-1"},$a={class:"d-flex align-items-center"},wa=S({__name:"BacktestHistoryLoad",setup(e){const a=H(),o=L(),_=L(""),m=qe(_,350,{maxWait:1e3});se(()=>{a.activeBot.getBacktestHistory()});function n(r){var u;const c={title:"Delete result",message:`Delete result ${r.filename} from disk?`,accept:()=>{a.activeBot.deleteBacktestHistoryResult(r)}};(u=o.value)==null||u.show(c)}return(r,c)=>{const u=re,g=de,y=ce,b=Le,R=Me,V=Ie,T=Pe,$=ha,f=D,q=ue,N=Ue,E=Fe;return l(),k(I,null,[d("div",null,[d("button",{class:"btn btn-secondary float-end",title:"Refresh","aria-label":"Refresh",onClick:c[0]||(c[0]=(...v)=>t(a).activeBot.getBacktestHistory&&t(a).activeBot.getBacktestHistory(...v))},[s(u)]),va,d("div",Ba,[t(a).activeBot.backtestHistoryList.length>0?(l(),h(y,{key:0,class:"my-2","label-for":"trade-filter"},{default:i(()=>[s(g,{id:"trade-filter",modelValue:t(_),"onUpdate:modelValue":c[1]||(c[1]=v=>z(_)?_.value=v:null),type:"text",placeholder:"Filter Strategies",tilte:"Filter Strategies"},null,8,["modelValue"])]),_:1})):p("",!0)]),t(a).activeBot.backtestHistoryList.length>0?(l(),h(E,{key:0,responsive:"",small:"",class:"rounded-1 table-rounded-corners"},{default:i(()=>[s(V,null,{default:i(()=>[s(R,null,{default:i(()=>[s(b,null,{default:i(()=>[B("Strategy")]),_:1}),s(b,null,{default:i(()=>[B("Details")]),_:1}),s(b,null,{default:i(()=>[B("Backtest Time")]),_:1}),s(b,null,{default:i(()=>[B("Filename")]),_:1}),s(b,null,{default:i(()=>[B("Actions")]),_:1})]),_:1})]),_:1}),s(N,null,{default:i(()=>[(l(!0),k(I,null,O(t(a).activeBot.backtestHistoryList.filter(v=>v.filename.toLowerCase().includes(t(m).toLowerCase())||v.strategy.toLowerCase().includes(t(m).toLowerCase())),v=>(l(),h(R,{key:v.filename+v.strategy,role:"button",onClick:C=>t(a).activeBot.getBacktestHistoryResult(v)},{default:i(()=>[s(T,null,{default:i(()=>[B(x(v.strategy),1)]),_:2},1024),s(T,null,{default:i(()=>[d("strong",null,x(v.timeframe),1),v.backtest_start_ts&&v.backtest_end_ts?(l(),k("span",xa,x(("timestampToTimeRangeString"in r?r.timestampToTimeRangeString:t(ne))(v.backtest_start_ts*1e3))+"-"+x(("timestampToTimeRangeString"in r?r.timestampToTimeRangeString:t(ne))(v.backtest_end_ts*1e3)),1)):p("",!0)]),_:2},1024),s(T,null,{default:i(()=>[d("small",null,x(("timestampms"in r?r.timestampms:t(G))(v.backtest_start_time*1e3)),1)]),_:2},1024),s(T,null,{default:i(()=>[d("small",null,x(v.filename),1)]),_:2},1024),s(T,null,{default:i(()=>[d("div",$a,[t(a).activeBot.botApiVersion>=2.32?(l(),h(fe,{key:0,class:me(v.notes?"opacity-100":"opacity-0"),hint:v.notes??""},null,8,["class","hint"])):p("",!0),t(a).activeBot.botApiVersion>=2.31?(l(),h(f,{key:1,class:"ms-1",size:"sm",title:"Load this Result.",disabled:v.run_id in t(a).activeBot.backtestHistory,onClick:j(C=>t(a).activeBot.getBacktestHistoryResult(v),["stop"])},{default:i(()=>[s($)]),_:2},1032,["disabled","onClick"])):p("",!0),t(a).activeBot.botApiVersion>=2.31?(l(),h(f,{key:2,class:"ms-1",size:"sm",title:"Delete this Result.",disabled:v.run_id in t(a).activeBot.backtestHistory,onClick:j(C=>n(v),["stop"])},{default:i(()=>[s(q)]),_:2},1032,["disabled","onClick"])):p("",!0)])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):p("",!0)]),s(Je,{ref_key:"msgBox",ref:o},null,512)],64)}}}),Ra=W(wa,[["__scopeId","data-v-29900fac"]]),Va={class:"container d-flex flex-column align-items-stretch"},Ta=d("h3",null,"Available results:",-1),Ca={class:"d-flex"},Sa=S({__name:"BacktestResultSelect",props:{backtestHistory:{required:!0,type:Object},selectedBacktestResultKey:{required:!1,default:"",type:String},canUseModify:{required:!1,default:!1,type:Boolean}},emits:["selectionChange","removeResult","updateResult"],setup(e,{emit:a}){const o=a,_=n=>{o("selectionChange",n)};function m(n,r){r.metadata.editing=!r.metadata.editing,r.metadata.filename&&o("updateResult",{run_id:n,notes:r.metadata.notes??"",filename:r.metadata.filename,strategy:r.metadata.strategyName})}return(n,r)=>{const c=ke,u=ze,g=D,y=ue,b=De,R=He,V=le,T=ie;return l(),k("div",Va,[Ta,s(T,{class:"ms-2"},{default:i(()=>[(l(!0),k(I,null,O(Object.entries(e.backtestHistory),([$,f])=>(l(),h(V,{key:$,button:"",active:$===e.selectedBacktestResultKey,class:"d-flex justify-content-between align-items-center py-1 pe-1",onClick:q=>_($)},{default:i(()=>[f.metadata.editing?p("",!0):(l(),k(I,{key:0},[s(c,{"backtest-result":f},null,8,["backtest-result"]),d("div",Ca,[e.canUseModify?(l(),h(g,{key:0,class:"flex-nowrap",size:"sm",title:"Modify result notes.",onClick:j(q=>f.metadata.editing=!f.metadata.editing,["stop"])},{default:i(()=>[s(u)]),_:2},1032,["onClick"])):p("",!0),s(g,{size:"sm",class:"flex-nowrap",title:"Delete this Result from UI.",onClick:j(q=>o("removeResult",$),["stop"])},{default:i(()=>[s(y)]),_:2},1032,["onClick"])])],64)),f.metadata.editing?(l(),k(I,{key:1},[s(b,{modelValue:f.metadata.notes,"onUpdate:modelValue":q=>f.metadata.notes=q,placeholder:"notes",size:"sm"},null,8,["modelValue","onUpdate:modelValue"]),s(g,{size:"sm",title:"Confirm",onClick:j(q=>m($,f),["stop"])},{default:i(()=>[s(R)]),_:2},1032,["onClick"])],64)):p("",!0)]),_:2},1032,["active","onClick"]))),128))]),_:1})])}}}),Aa={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},qa=d("path",{fill:"currentColor",d:"M21 8c-1.5 0-2.3 1.4-1.9 2.5l-3.6 3.6c-.3-.1-.7-.1-1 0l-2.6-2.6c.4-1.1-.4-2.5-1.9-2.5c-1.4 0-2.3 1.4-1.9 2.5L3.5 16c-1.1-.3-2.5.5-2.5 2c0 1.1.9 2 2 2c1.4 0 2.3-1.4 1.9-2.5l4.5-4.6c.3.1.7.1 1 0l2.6 2.6c-.3 1 .5 2.5 2 2.5s2.3-1.4 1.9-2.5l3.6-3.6c1.1.3 2.5-.5 2.5-1.9c0-1.1-.9-2-2-2m-6 1l.9-2.1L18 6l-2.1-.9L15 3l-.9 2.1L12 6l2.1.9zM3.5 11L4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},null,-1),La=[qa];function Ma(e,a){return l(),k("svg",Aa,[...La])}const Ia={name:"mdi-chart-timeline-variant-shimmer",render:Ma},Pa={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ua=d("path",{fill:"currentColor",d:"M4 19v1h18v2H2V2h2v15c3 0 6-2 8.1-5.6c3-5 6.3-7.4 9.9-7.4v2c-2.8 0-5.5 2.1-8.1 6.5C11.3 16.6 7.7 19 4 19"},null,-1),Fa=[Ua];function za(e,a){return l(),k("svg",Pa,[...Fa])}const Da={name:"mdi-chart-bell-curve-cumulative",render:za},Ha={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Na=d("path",{fill:"currentColor",d:"M9 14H2v2h7v3l4-4l-4-4zm6-1v-3h7V8h-7V5l-4 4z"},null,-1),Ea=[Na];function ja(e,a){return l(),k("svg",Ha,[...Ea])}const Oa={name:"mdi-compare-horizontal",render:ja},Ga={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Wa=d("path",{fill:"currentColor",d:"M17 16.88c.56 0 1 .44 1 1s-.44 1-1 1s-1-.45-1-1s.44-1 1-1m0-3c2.73 0 5.06 1.66 6 4c-.94 2.34-3.27 4-6 4s-5.06-1.66-6-4c.94-2.34 3.27-4 6-4m0 1.5a2.5 2.5 0 0 0 0 5a2.5 2.5 0 0 0 0-5M18 3H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5.42c-.16-.32-.3-.66-.42-1c.12-.34.26-.68.42-1H4v-4h6v2.97c.55-.86 1.23-1.6 2-2.21V13h1.15c1.16-.64 2.47-1 3.85-1c1.06 0 2.07.21 3 .59V5c0-1.1-.9-2-2-2m-8 8H4V7h6zm8 0h-6V7h6z"},null,-1),Ka=[Wa];function Za(e,a){return l(),k("svg",Ga,[...Ka])}const Qa={name:"mdi-table-eye",render:Za},Ya={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ja=d("path",{fill:"currentColor",d:"M6.5 20q-2.28 0-3.89-1.57Q1 16.85 1 14.58q0-1.95 1.17-3.48q1.18-1.53 3.08-1.95q.58-2.02 2.14-3.4Q8.95 4.38 11 4.08v8.07L9.4 10.6L8 12l4 4l4-4l-1.4-1.4l-1.6 1.55V4.08q2.58.35 4.29 2.31T19 11q1.73.2 2.86 1.5q1.14 1.28 1.14 3q0 1.88-1.31 3.19T18.5 20Z"},null,-1),Xa=[Ja];function es(e,a){return l(),k("svg",Ya,[...Xa])}const ts={name:"mdi-cloud-download",render:es},as=e=>(Z("data-v-36ed69aa"),e=e(),Q(),e),ss={class:"d-flex flex-column pt-1 me-1",style:{height:"calc(100vh - 60px)"}},os={class:"d-flex flex-row"},ns=as(()=>d("h2",{class:"ms-5"},"Backtesting",-1)),ls={key:0},is={class:"w-100"},rs={class:"mx-md-5 d-flex flex-wrap justify-content-md-center justify-content-between mb-4 gap-2"},cs={class:"d-flex flex-md-row"},ds={class:"d-flex flex-column flex-fill mw-100"},ms={class:"d-md-flex"},us={key:0,class:"flex-fill d-flex flex-column bt-config"},_s={key:1,class:"flex-fill d-flex flex-column bt-config"},fs={key:0,class:"text-center w-100 mt-2"},ps=S({__name:"BacktestingView",setup(e){const a=H(),o=he(),_=M(()=>a.activeBot.backtestHistory?Object.keys(a.activeBot.backtestHistory).length!==0:!1),m=M(()=>a.activeBot.backtestHistory?Object.keys(a.activeBot.backtestHistory).length>1:!1),n=M(()=>{try{return a.activeBot.selectedBacktestResult.timeframe}catch{return""}}),r=L(!1),c=L("run"),u=L(null),g=()=>{o.strategy=a.activeBot.selectedBacktestResult.strategy_name,a.activeBot.getStrategy(o.strategy),o.selectedTimeframe=a.activeBot.selectedBacktestResult.timeframe,o.selectedDetailTimeframe=a.activeBot.selectedBacktestResult.timeframe_detail||"",o.timerange=a.activeBot.selectedBacktestResult.timerange};return J(()=>a.activeBot.selectedBacktestResultKey,()=>{g()}),se(()=>a.activeBot.getState()),J(()=>a.activeBot.backtestRunning,()=>{a.activeBot.backtestRunning===!0?u.value=window.setInterval(a.activeBot.pollBacktest,1e3):u.value&&(clearInterval(u.value),u.value=null)}),(y,b)=>{const R=ts,V=je,T=Oe,$=Qa,f=Oa,q=Da,N=Ia,E=oe,v=pe,C=D,P=Sa,U=Ra,F=fa,ye=ta,ve=Gt,Be=qt,xe=Vt;return l(),k("div",ss,[d("div",null,[d("div",os,[ns,t(a).activeBot.canRunBacktest?p("",!0):(l(),k("p",ls," Bot must be in webserver mode to enable Backtesting. ")),d("div",is,[d("div",rs,[t(a).activeBot.botApiVersion>=2.15?(l(),h(V,{key:0,modelValue:t(c),"onUpdate:modelValue":b[0]||(b[0]=A=>z(c)?c.value=A:null),name:"bt-form-radios",button:"",class:"mx-1 flex-samesize-items",value:"historicResults",disabled:!t(a).activeBot.canRunBacktest},{default:i(()=>[s(R,{class:"me-2"}),B("Load Results")]),_:1},8,["modelValue","disabled"])):p("",!0),s(V,{modelValue:t(c),"onUpdate:modelValue":b[1]||(b[1]=A=>z(c)?c.value=A:null),name:"bt-form-radios",button:"",class:"mx-1 flex-samesize-items",value:"run",disabled:!t(a).activeBot.canRunBacktest},{default:i(()=>[s(T,{class:"me-2"}),B("Run backtest")]),_:1},8,["modelValue","disabled"]),s(V,{id:"bt-analyze-btn",modelValue:t(c),"onUpdate:modelValue":b[2]||(b[2]=A=>z(c)?c.value=A:null),name:"bt-form-radios",button:"",class:"mx-1 flex-samesize-items",value:"results",disabled:!t(_)},{default:i(()=>[s($,{class:"me-2"}),B("Analyze result")]),_:1},8,["modelValue","disabled"]),t(m)?(l(),h(V,{key:1,modelValue:t(c),"onUpdate:modelValue":b[3]||(b[3]=A=>z(c)?c.value=A:null),name:"bt-form-radios",button:"",class:"mx-1 flex-samesize-items",value:"compare-results",disabled:!t(m)},{default:i(()=>[s(f,{class:"me-2"}),B("Compare results")]),_:1},8,["modelValue","disabled"])):p("",!0),s(V,{modelValue:t(c),"onUpdate:modelValue":b[4]||(b[4]=A=>z(c)?c.value=A:null),name:"bt-form-radios",button:"",class:"mx-1 flex-samesize-items",value:"visualize-summary",disabled:!t(_)},{default:i(()=>[s(q,{class:"me-2"}),B("Visualize summary")]),_:1},8,["modelValue","disabled"]),s(V,{modelValue:t(c),"onUpdate:modelValue":b[5]||(b[5]=A=>z(c)?c.value=A:null),name:"bt-form-radios",button:"",class:"mx-1 flex-samesize-items",value:"visualize",disabled:!t(_)},{default:i(()=>[s(N,{class:"me-2"}),B("Visualize result")]),_:1},8,["modelValue","disabled"])]),Ne(d("small",{class:"text-end bt-running-label"},"Backtest running: "+x(t(a).activeBot.backtestStep)+" "+x(("formatPercent"in y?y.formatPercent:t(w))(t(a).activeBot.backtestProgress,2)),513),[[Ee,t(a).activeBot.backtestRunning]])])])]),d("div",cs,[t(c)!=="visualize"?(l(),k("div",{key:0,class:me([`${t(r)?"col-md-3":""}`,"sticky-top sticky-offset me-3 d-flex flex-column absolute"]),style:{"max-height":"calc(100vh - 60px)"}},[s(C,{class:"align-self-start","aria-label":"Close",size:"sm",variant:"outline-secondary",onClick:b[6]||(b[6]=A=>r.value=!t(r))},{default:i(()=>[t(r)?p("",!0):(l(),h(E,{key:0,width:"24",height:"24"})),t(r)?(l(),h(v,{key:1,width:"24",height:"24"})):p("",!0)]),_:1}),s(X,{name:"fade"},{default:i(()=>[t(r)?(l(),h(P,{key:0,"backtest-history":t(a).activeBot.backtestHistory,"selected-backtest-result-key":t(a).activeBot.selectedBacktestResultKey,"can-use-modify":t(a).activeBot.botApiVersion>=2.32,onSelectionChange:t(a).activeBot.setBacktestResultKey,onRemoveResult:t(a).activeBot.removeBacktestResultFromMemory,onUpdateResult:t(a).activeBot.saveBacktestResultMetadata},null,8,["backtest-history","selected-backtest-result-key","can-use-modify","onSelectionChange","onRemoveResult","onUpdateResult"])):p("",!0)]),_:1})],2)):p("",!0),d("div",ds,[d("div",ms,[t(c)==="historicResults"?(l(),k("div",us,[s(U)])):p("",!0),t(c)==="run"?(l(),k("div",_s,[s(F)])):p("",!0),t(_)&&t(c)==="results"?(l(),h(ye,{key:2,"backtest-result":t(a).activeBot.selectedBacktestResult,class:"flex-fill"},null,8,["backtest-result"])):p("",!0),t(_)&&t(c)==="compare-results"?(l(),h(ve,{key:3,"backtest-results":t(a).activeBot.backtestHistory,class:"flex-fill"},null,8,["backtest-results"])):p("",!0),t(_)&&t(c)==="visualize-summary"?(l(),h(Be,{key:4,trades:t(a).activeBot.selectedBacktestResult.trades,class:"flex-fill"},null,8,["trades"])):p("",!0)]),t(_)&&t(c)==="visualize"?(l(),k("div",fs,[s(xe,{timeframe:t(n),strategy:t(o).strategy,timerange:t(o).timerange,pairlist:t(a).activeBot.selectedBacktestResult.pairlist,trades:t(a).activeBot.selectedBacktestResult.trades,"freqai-model":t(o).freqAI.enabled?t(o).freqAI.model:void 0},null,8,["timeframe","strategy","timerange","pairlist","trades","freqai-model"])])):p("",!0)])])])}}}),Cs=W(ps,[["__scopeId","data-v-36ed69aa"]]);export{Cs as default};
//# sourceMappingURL=BacktestingView-C5wasNrO.js.map
